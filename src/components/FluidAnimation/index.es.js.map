{"version":3,"file":"index.es.js","sources":["../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react/cjs/react-jsx-runtime.development.js","../node_modules/react/jsx-runtime.js","../src/gl-program.js","../src/get-gl-context.js","../src/shaders/advection-manual-filtering.js","../src/shaders/advection.js","../src/shaders/clear.js","../src/shaders/curl.js","../src/shaders/display.js","../src/shaders/divergence.js","../src/shaders/gradient-subtract.js","../src/shaders/pressure.js","../src/shaders/splat.js","../src/shaders/vert.js","../src/shaders/vorticity.js","../src/shaders/index.js","../src/fluid-animation.js","../src/react-fluid-animation.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE$2\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PORTAL_TYPE:\n          return \"Portal\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function disabledLog() {}\n    function disableLogs() {\n      if (0 === disabledDepth) {\n        prevLog = console.log;\n        prevInfo = console.info;\n        prevWarn = console.warn;\n        prevError = console.error;\n        prevGroup = console.group;\n        prevGroupCollapsed = console.groupCollapsed;\n        prevGroupEnd = console.groupEnd;\n        var props = {\n          configurable: !0,\n          enumerable: !0,\n          value: disabledLog,\n          writable: !0\n        };\n        Object.defineProperties(console, {\n          info: props,\n          log: props,\n          warn: props,\n          error: props,\n          group: props,\n          groupCollapsed: props,\n          groupEnd: props\n        });\n      }\n      disabledDepth++;\n    }\n    function reenableLogs() {\n      disabledDepth--;\n      if (0 === disabledDepth) {\n        var props = { configurable: !0, enumerable: !0, writable: !0 };\n        Object.defineProperties(console, {\n          log: assign({}, props, { value: prevLog }),\n          info: assign({}, props, { value: prevInfo }),\n          warn: assign({}, props, { value: prevWarn }),\n          error: assign({}, props, { value: prevError }),\n          group: assign({}, props, { value: prevGroup }),\n          groupCollapsed: assign({}, props, { value: prevGroupCollapsed }),\n          groupEnd: assign({}, props, { value: prevGroupEnd })\n        });\n      }\n      0 > disabledDepth &&\n        console.error(\n          \"disabledDepth fell below zero. This is a bug in React. Please file an issue.\"\n        );\n    }\n    function describeBuiltInComponentFrame(name) {\n      if (void 0 === prefix)\n        try {\n          throw Error();\n        } catch (x) {\n          var match = x.stack.trim().match(/\\n( *(at )?)/);\n          prefix = (match && match[1]) || \"\";\n          suffix =\n            -1 < x.stack.indexOf(\"\\n    at\")\n              ? \" (<anonymous>)\"\n              : -1 < x.stack.indexOf(\"@\")\n                ? \"@unknown:0:0\"\n                : \"\";\n        }\n      return \"\\n\" + prefix + name + suffix;\n    }\n    function describeNativeComponentFrame(fn, construct) {\n      if (!fn || reentry) return \"\";\n      var frame = componentFrameCache.get(fn);\n      if (void 0 !== frame) return frame;\n      reentry = !0;\n      frame = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var previousDispatcher = null;\n      previousDispatcher = ReactSharedInternals.H;\n      ReactSharedInternals.H = null;\n      disableLogs();\n      try {\n        var RunInRootFrame = {\n          DetermineComponentFrameRoot: function () {\n            try {\n              if (construct) {\n                var Fake = function () {\n                  throw Error();\n                };\n                Object.defineProperty(Fake.prototype, \"props\", {\n                  set: function () {\n                    throw Error();\n                  }\n                });\n                if (\"object\" === typeof Reflect && Reflect.construct) {\n                  try {\n                    Reflect.construct(Fake, []);\n                  } catch (x) {\n                    var control = x;\n                  }\n                  Reflect.construct(fn, [], Fake);\n                } else {\n                  try {\n                    Fake.call();\n                  } catch (x$0) {\n                    control = x$0;\n                  }\n                  fn.call(Fake.prototype);\n                }\n              } else {\n                try {\n                  throw Error();\n                } catch (x$1) {\n                  control = x$1;\n                }\n                (Fake = fn()) &&\n                  \"function\" === typeof Fake.catch &&\n                  Fake.catch(function () {});\n              }\n            } catch (sample) {\n              if (sample && control && \"string\" === typeof sample.stack)\n                return [sample.stack, control.stack];\n            }\n            return [null, null];\n          }\n        };\n        RunInRootFrame.DetermineComponentFrameRoot.displayName =\n          \"DetermineComponentFrameRoot\";\n        var namePropDescriptor = Object.getOwnPropertyDescriptor(\n          RunInRootFrame.DetermineComponentFrameRoot,\n          \"name\"\n        );\n        namePropDescriptor &&\n          namePropDescriptor.configurable &&\n          Object.defineProperty(\n            RunInRootFrame.DetermineComponentFrameRoot,\n            \"name\",\n            { value: \"DetermineComponentFrameRoot\" }\n          );\n        var _RunInRootFrame$Deter =\n            RunInRootFrame.DetermineComponentFrameRoot(),\n          sampleStack = _RunInRootFrame$Deter[0],\n          controlStack = _RunInRootFrame$Deter[1];\n        if (sampleStack && controlStack) {\n          var sampleLines = sampleStack.split(\"\\n\"),\n            controlLines = controlStack.split(\"\\n\");\n          for (\n            _RunInRootFrame$Deter = namePropDescriptor = 0;\n            namePropDescriptor < sampleLines.length &&\n            !sampleLines[namePropDescriptor].includes(\n              \"DetermineComponentFrameRoot\"\n            );\n\n          )\n            namePropDescriptor++;\n          for (\n            ;\n            _RunInRootFrame$Deter < controlLines.length &&\n            !controlLines[_RunInRootFrame$Deter].includes(\n              \"DetermineComponentFrameRoot\"\n            );\n\n          )\n            _RunInRootFrame$Deter++;\n          if (\n            namePropDescriptor === sampleLines.length ||\n            _RunInRootFrame$Deter === controlLines.length\n          )\n            for (\n              namePropDescriptor = sampleLines.length - 1,\n                _RunInRootFrame$Deter = controlLines.length - 1;\n              1 <= namePropDescriptor &&\n              0 <= _RunInRootFrame$Deter &&\n              sampleLines[namePropDescriptor] !==\n                controlLines[_RunInRootFrame$Deter];\n\n            )\n              _RunInRootFrame$Deter--;\n          for (\n            ;\n            1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter;\n            namePropDescriptor--, _RunInRootFrame$Deter--\n          )\n            if (\n              sampleLines[namePropDescriptor] !==\n              controlLines[_RunInRootFrame$Deter]\n            ) {\n              if (1 !== namePropDescriptor || 1 !== _RunInRootFrame$Deter) {\n                do\n                  if (\n                    (namePropDescriptor--,\n                    _RunInRootFrame$Deter--,\n                    0 > _RunInRootFrame$Deter ||\n                      sampleLines[namePropDescriptor] !==\n                        controlLines[_RunInRootFrame$Deter])\n                  ) {\n                    var _frame =\n                      \"\\n\" +\n                      sampleLines[namePropDescriptor].replace(\n                        \" at new \",\n                        \" at \"\n                      );\n                    fn.displayName &&\n                      _frame.includes(\"<anonymous>\") &&\n                      (_frame = _frame.replace(\"<anonymous>\", fn.displayName));\n                    \"function\" === typeof fn &&\n                      componentFrameCache.set(fn, _frame);\n                    return _frame;\n                  }\n                while (1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter);\n              }\n              break;\n            }\n        }\n      } finally {\n        (reentry = !1),\n          (ReactSharedInternals.H = previousDispatcher),\n          reenableLogs(),\n          (Error.prepareStackTrace = frame);\n      }\n      sampleLines = (sampleLines = fn ? fn.displayName || fn.name : \"\")\n        ? describeBuiltInComponentFrame(sampleLines)\n        : \"\";\n      \"function\" === typeof fn && componentFrameCache.set(fn, sampleLines);\n      return sampleLines;\n    }\n    function describeUnknownElementTypeFrameInDEV(type) {\n      if (null == type) return \"\";\n      if (\"function\" === typeof type) {\n        var prototype = type.prototype;\n        return describeNativeComponentFrame(\n          type,\n          !(!prototype || !prototype.isReactComponent)\n        );\n      }\n      if (\"string\" === typeof type) return describeBuiltInComponentFrame(type);\n      switch (type) {\n        case REACT_SUSPENSE_TYPE:\n          return describeBuiltInComponentFrame(\"Suspense\");\n        case REACT_SUSPENSE_LIST_TYPE:\n          return describeBuiltInComponentFrame(\"SuspenseList\");\n      }\n      if (\"object\" === typeof type)\n        switch (type.$$typeof) {\n          case REACT_FORWARD_REF_TYPE:\n            return (type = describeNativeComponentFrame(type.render, !1)), type;\n          case REACT_MEMO_TYPE:\n            return describeUnknownElementTypeFrameInDEV(type.type);\n          case REACT_LAZY_TYPE:\n            prototype = type._payload;\n            type = type._init;\n            try {\n              return describeUnknownElementTypeFrameInDEV(type(prototype));\n            } catch (x) {}\n        }\n      return \"\";\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, self, source, owner, props) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      if (\n        \"string\" === typeof type ||\n        \"function\" === typeof type ||\n        type === REACT_FRAGMENT_TYPE ||\n        type === REACT_PROFILER_TYPE ||\n        type === REACT_STRICT_MODE_TYPE ||\n        type === REACT_SUSPENSE_TYPE ||\n        type === REACT_SUSPENSE_LIST_TYPE ||\n        type === REACT_OFFSCREEN_TYPE ||\n        (\"object\" === typeof type &&\n          null !== type &&\n          (type.$$typeof === REACT_LAZY_TYPE ||\n            type.$$typeof === REACT_MEMO_TYPE ||\n            type.$$typeof === REACT_CONTEXT_TYPE ||\n            type.$$typeof === REACT_CONSUMER_TYPE ||\n            type.$$typeof === REACT_FORWARD_REF_TYPE ||\n            type.$$typeof === REACT_CLIENT_REFERENCE$1 ||\n            void 0 !== type.getModuleId))\n      ) {\n        var children = config.children;\n        if (void 0 !== children)\n          if (isStaticChildren)\n            if (isArrayImpl(children)) {\n              for (\n                isStaticChildren = 0;\n                isStaticChildren < children.length;\n                isStaticChildren++\n              )\n                validateChildKeys(children[isStaticChildren], type);\n              Object.freeze && Object.freeze(children);\n            } else\n              console.error(\n                \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n              );\n          else validateChildKeys(children, type);\n      } else {\n        children = \"\";\n        if (\n          void 0 === type ||\n          (\"object\" === typeof type &&\n            null !== type &&\n            0 === Object.keys(type).length)\n        )\n          children +=\n            \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\";\n        null === type\n          ? (isStaticChildren = \"null\")\n          : isArrayImpl(type)\n            ? (isStaticChildren = \"array\")\n            : void 0 !== type && type.$$typeof === REACT_ELEMENT_TYPE\n              ? ((isStaticChildren =\n                  \"<\" +\n                  (getComponentNameFromType(type.type) || \"Unknown\") +\n                  \" />\"),\n                (children =\n                  \" Did you accidentally export a JSX literal instead of a component?\"))\n              : (isStaticChildren = typeof type);\n        console.error(\n          \"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",\n          isStaticChildren,\n          children\n        );\n      }\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(type, children, self, source, getOwner(), maybeKey);\n    }\n    function validateChildKeys(node, parentType) {\n      if (\n        \"object\" === typeof node &&\n        node &&\n        node.$$typeof !== REACT_CLIENT_REFERENCE\n      )\n        if (isArrayImpl(node))\n          for (var i = 0; i < node.length; i++) {\n            var child = node[i];\n            isValidElement(child) && validateExplicitKey(child, parentType);\n          }\n        else if (isValidElement(node))\n          node._store && (node._store.validated = 1);\n        else if (\n          (null === node || \"object\" !== typeof node\n            ? (i = null)\n            : ((i =\n                (MAYBE_ITERATOR_SYMBOL && node[MAYBE_ITERATOR_SYMBOL]) ||\n                node[\"@@iterator\"]),\n              (i = \"function\" === typeof i ? i : null)),\n          \"function\" === typeof i &&\n            i !== node.entries &&\n            ((i = i.call(node)), i !== node))\n        )\n          for (; !(node = i.next()).done; )\n            isValidElement(node.value) &&\n              validateExplicitKey(node.value, parentType);\n    }\n    function isValidElement(object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    }\n    function validateExplicitKey(element, parentType) {\n      if (\n        element._store &&\n        !element._store.validated &&\n        null == element.key &&\n        ((element._store.validated = 1),\n        (parentType = getCurrentComponentErrorInfo(parentType)),\n        !ownerHasKeyUseWarning[parentType])\n      ) {\n        ownerHasKeyUseWarning[parentType] = !0;\n        var childOwner = \"\";\n        element &&\n          null != element._owner &&\n          element._owner !== getOwner() &&\n          ((childOwner = null),\n          \"number\" === typeof element._owner.tag\n            ? (childOwner = getComponentNameFromType(element._owner.type))\n            : \"string\" === typeof element._owner.name &&\n              (childOwner = element._owner.name),\n          (childOwner = \" It was passed a child from \" + childOwner + \".\"));\n        var prevGetCurrentStack = ReactSharedInternals.getCurrentStack;\n        ReactSharedInternals.getCurrentStack = function () {\n          var stack = describeUnknownElementTypeFrameInDEV(element.type);\n          prevGetCurrentStack && (stack += prevGetCurrentStack() || \"\");\n          return stack;\n        };\n        console.error(\n          'Each child in a list should have a unique \"key\" prop.%s%s See https://react.dev/link/warning-keys for more information.',\n          parentType,\n          childOwner\n        );\n        ReactSharedInternals.getCurrentStack = prevGetCurrentStack;\n      }\n    }\n    function getCurrentComponentErrorInfo(parentType) {\n      var info = \"\",\n        owner = getOwner();\n      owner &&\n        (owner = getComponentNameFromType(owner.type)) &&\n        (info = \"\\n\\nCheck the render method of `\" + owner + \"`.\");\n      info ||\n        ((parentType = getComponentNameFromType(parentType)) &&\n          (info =\n            \"\\n\\nCheck the top-level render call using <\" + parentType + \">.\"));\n      return info;\n    }\n    var React = require(\"react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\"),\n      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,\n      REACT_CLIENT_REFERENCE$2 = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      assign = Object.assign,\n      REACT_CLIENT_REFERENCE$1 = Symbol.for(\"react.client.reference\"),\n      isArrayImpl = Array.isArray,\n      disabledDepth = 0,\n      prevLog,\n      prevInfo,\n      prevWarn,\n      prevError,\n      prevGroup,\n      prevGroupCollapsed,\n      prevGroupEnd;\n    disabledLog.__reactDisabledLog = !0;\n    var prefix,\n      suffix,\n      reentry = !1;\n    var componentFrameCache = new (\n      \"function\" === typeof WeakMap ? WeakMap : Map\n    )();\n    var REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var didWarnAboutKeySpread = {},\n      ownerHasKeyUseWarning = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsx = function (type, config, maybeKey, source, self) {\n      return jsxDEVImpl(type, config, maybeKey, !1, source, self);\n    };\n    exports.jsxs = function (type, config, maybeKey, source, self) {\n      return jsxDEVImpl(type, config, maybeKey, !0, source, self);\n    };\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","function compileShader (gl, type, source) {\r\n  const shader = gl.createShader(type)\r\n  gl.shaderSource(shader, source)\r\n  gl.compileShader(shader)\r\n\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n    throw gl.getShaderInfoLog(shader)\r\n  }\r\n\r\n  return shader\r\n}\r\n\r\nexport default class GLProgram {\r\n  constructor(gl, vertexSource, fragmentSource) {\r\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexSource)\r\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentSource)\r\n\r\n    this.uniforms = {}\r\n    this.program = gl.createProgram()\r\n    this.gl = gl\r\n\r\n    gl.attachShader(this.program, vertexShader)\r\n    gl.attachShader(this.program, fragmentShader)\r\n    gl.linkProgram(this.program)\r\n\r\n    if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n      throw gl.getProgramInfoLog(this.program)\r\n    }\r\n\r\n    const uniformCount = gl.getProgramParameter(\r\n      this.program,\r\n      gl.ACTIVE_UNIFORMS\r\n    )\r\n\r\n    for (let i = 0; i < uniformCount; i++) {\r\n      const uniformName = gl.getActiveUniform(this.program, i).name\r\n      this.uniforms[uniformName] = gl.getUniformLocation(\r\n        this.program,\r\n        uniformName\r\n      )\r\n    }\r\n  }\r\n\r\n  bind() {\r\n    this.gl.useProgram(this.program)\r\n  }\r\n}\r\n","export default function getWebGLContext (canvas) {\r\n  const params = {\r\n    alpha: true,\r\n    depth: false,\r\n    stencil: false,\r\n    antialias: false,\r\n    premultipliedAlpha: true\r\n  }\r\n\r\n  let gl = canvas.getContext('webgl2', params)\r\n  const isWebGL2 = !!gl\r\n  if (!isWebGL2) {\r\n    gl =\r\n      canvas.getContext('webgl', params) ||\r\n      canvas.getContext('experimental-webgl', params)\r\n  }\r\n\r\n  let halfFloat\r\n  let supportLinearFiltering\r\n  if (isWebGL2) {\r\n    gl.getExtension('EXT_color_buffer_float')\r\n    supportLinearFiltering = gl.getExtension('OES_texture_float_linear')\r\n  } else {\r\n    halfFloat = gl.getExtension('OES_texture_half_float')\r\n    supportLinearFiltering = gl.getExtension('OES_texture_half_float_linear')\r\n  }\r\n\r\n  gl.clearColor(0.0, 0.0, 0.0, 0.0)\r\n\r\n  const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat.HALF_FLOAT_OES\r\n  let formatRGBA\r\n  let formatRG\r\n  let formatR\r\n\r\n  if (isWebGL2) {\r\n    formatRGBA = getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType)\r\n    formatRG = getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType)\r\n    formatR = getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType)\r\n  } else {\r\n    formatRGBA = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType)\r\n    formatRG = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType)\r\n    formatR = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType)\r\n  }\r\n\r\n  return {\r\n    gl,\r\n    ext: {\r\n      formatRGBA,\r\n      formatRG,\r\n      formatR,\r\n      halfFloatTexType,\r\n      supportLinearFiltering\r\n    }\r\n  }\r\n}\r\n\r\nfunction getSupportedFormat (gl, internalFormat, format, type) {\r\n  if (!supportRenderTextureFormat(gl, internalFormat, format, type)) {\r\n    switch (internalFormat) {\r\n      case gl.R16F:\r\n        return getSupportedFormat(gl, gl.RG16F, gl.RG, type)\r\n      case gl.RG16F:\r\n        return getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type)\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  return {\r\n    internalFormat,\r\n    format\r\n  }\r\n}\r\n\r\nfunction supportRenderTextureFormat (gl, internalFormat, format, type) {\r\n  const texture = gl.createTexture()\r\n  gl.bindTexture(gl.TEXTURE_2D, texture)\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST)\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST)\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\r\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\r\n  gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null)\r\n\r\n  let fbo = gl.createFramebuffer()\r\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\r\n  gl.framebufferTexture2D(\r\n    gl.FRAMEBUFFER,\r\n    gl.COLOR_ATTACHMENT0,\r\n    gl.TEXTURE_2D,\r\n    texture,\r\n    0\r\n  )\r\n\r\n  const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER)\r\n  if (status !== gl.FRAMEBUFFER_COMPLETE) return false\r\n  return true\r\n}\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nuniform sampler2D uVelocity;\r\nuniform sampler2D uSource;\r\nuniform vec2 texelSize;\r\nuniform float dt;\r\nuniform float dissipation;\r\n\r\nvec4 bilerp (in sampler2D sam, in vec2 p) {\r\n  vec4 st;\r\n  st.xy = floor(p - 0.5) + 0.5;\r\n  st.zw = st.xy + 1.0;\r\n  vec4 uv = st * texelSize.xyxy;\r\n  vec4 a = texture2D(sam, uv.xy);\r\n  vec4 b = texture2D(sam, uv.zy);\r\n  vec4 c = texture2D(sam, uv.xw);\r\n  vec4 d = texture2D(sam, uv.zw);\r\n  vec2 f = p - st.xy;\r\n  return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\r\n}\r\n\r\nvoid main () {\r\n  vec2 coord = gl_FragCoord.xy - dt * texture2D(uVelocity, vUv).xy;\r\n  gl_FragColor = dissipation * bilerp(uSource, coord);\r\n  gl_FragColor.a = 1.0;\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nuniform sampler2D uVelocity;\r\nuniform sampler2D uSource;\r\nuniform vec2 texelSize;\r\nuniform float dt;\r\nuniform float dissipation;\r\n\r\nvoid main () {\r\n  vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\r\n  gl_FragColor = dissipation * texture2D(uSource, coord);\r\n  gl_FragColor.a = 1.0;\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nuniform sampler2D uTexture;\r\nuniform float value;\r\n\r\nvoid main () {\r\n  gl_FragColor = value * texture2D(uTexture, vUv);\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vL;\r\nvarying vec2 vR;\r\nvarying vec2 vT;\r\nvarying vec2 vB;\r\nuniform sampler2D uVelocity;\r\n\r\nvoid main () {\r\n  float L = texture2D(uVelocity, vL).y;\r\n  float R = texture2D(uVelocity, vR).y;\r\n  float T = texture2D(uVelocity, vT).x;\r\n  float B = texture2D(uVelocity, vB).x;\r\n  float vorticity = R - L - T + B;\r\n  gl_FragColor = vec4(vorticity, 0.0, 0.0, 1.0);\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nuniform sampler2D uTexture;\r\nuniform vec4 uBackgroundColor;\r\nuniform float uAdditiveMode;\r\nuniform float uAdditiveThreshold; // Controls how much fluid is needed to turn fully white\r\n\r\nvoid main () {\r\n  vec4 color = texture2D(uTexture, vUv);\r\n  \r\n  // Regular mode (original behavior)\r\n  if (uAdditiveMode < 0.5) {\r\n    // Enhance color vibrancy (reduced from 0.85 to 1.0 - no enhancement)\r\n    color.rgb = pow(color.rgb, vec3(1.0));\r\n    \r\n    // Calculate color intensity\r\n    float colorIntensity = max(color.r, max(color.g, color.b));\r\n    \r\n    // Preserve saturation at high intensities\r\n    if (colorIntensity > 0.0) {\r\n      // Normalize the color to maintain its hue\r\n      vec3 normalizedColor = color.rgb / colorIntensity;\r\n      \r\n      // Apply a curve to the intensity to prevent complete whitening\r\n      // Reduced from 2.0 to 1.5 for less intensity\r\n      float adjustedIntensity = 1.0 - exp(-colorIntensity * 1.5);\r\n      \r\n      // Scale down intensity to make it less saturated overall\r\n      adjustedIntensity *= 0.8;\r\n      \r\n      // Mix with the background using the adjusted intensity\r\n      vec3 finalColor = mix(uBackgroundColor.rgb, normalizedColor, adjustedIntensity);\r\n      \r\n      // Use the background's alpha, but increase it with fluid intensity\r\n      // Multiply by 0.8 to make it more transparent\r\n      float alpha = uBackgroundColor.a + (adjustedIntensity * 0.8) * (1.0 - uBackgroundColor.a);\r\n      \r\n      gl_FragColor = vec4(finalColor, alpha);\r\n    } else {\r\n      gl_FragColor = uBackgroundColor;\r\n    }\r\n  } \r\n  // Additive mode - simplified for stability with threshold control\r\n  else {\r\n    // Calculate color intensity \r\n    float colorIntensity = max(color.r, max(color.g, color.b));\r\n    \r\n    if (colorIntensity > 0.0) {\r\n      // Base color with power curve for more vivid colors\r\n      vec3 baseColor = color.rgb;\r\n      \r\n      // Normalized color for consistent hue\r\n      vec3 normalizedColor = baseColor / colorIntensity;\r\n      \r\n      // Calculate white amount using the threshold to control when full white is reached\r\n      // Higher threshold values require more fluid intensity to reach white\r\n      float whiteAmount = 1.0 - exp(-colorIntensity / uAdditiveThreshold);\r\n      \r\n      // Mix original color with white based on intensity and threshold\r\n      vec3 finalColor = mix(normalizedColor, vec3(1.0), whiteAmount * whiteAmount);\r\n      \r\n      // Scale the final color based on intensity for additive effect\r\n      finalColor = finalColor * min(colorIntensity, 1.5);\r\n      \r\n      // Set alpha based on intensity for a nice glow effect\r\n      float alpha = min(colorIntensity, 1.0);\r\n      \r\n      gl_FragColor = vec4(finalColor, alpha);\r\n    } else {\r\n      gl_FragColor = uBackgroundColor;\r\n    }\r\n  }\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vL;\r\nvarying vec2 vR;\r\nvarying vec2 vT;\r\nvarying vec2 vB;\r\nuniform sampler2D uVelocity;\r\n\r\nvec2 sampleVelocity (in vec2 uv) {\r\n  vec2 multiplier = vec2(1.0, 1.0);\r\n  if (uv.x < 0.0) { uv.x = 0.0; multiplier.x = -1.0; };\r\n  if (uv.x > 1.0) { uv.x = 1.0; multiplier.x = -1.0; };\r\n  if (uv.y < 0.0) { uv.y = 0.0; multiplier.y = -1.0; };\r\n  if (uv.y > 1.0) { uv.y = 1.0; multiplier.y = -1.0; };\r\n  return multiplier * texture2D(uVelocity, uv).xy;\r\n}\r\n\r\nvoid main () {\r\n  float L = sampleVelocity(vL).x;\r\n  float R = sampleVelocity(vR).x;\r\n  float T = sampleVelocity(vT).y;\r\n  float B = sampleVelocity(vB).y;\r\n  float div = 0.5 * (R - L + T - B);\r\n  gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vL;\r\nvarying vec2 vR;\r\nvarying vec2 vT;\r\nvarying vec2 vB;\r\nuniform sampler2D uPressure;\r\nuniform sampler2D uVelocity;\r\n\r\nvec2 boundary (in vec2 uv) {\r\n  uv = min(max(uv, 0.0), 1.0);\r\n  return uv;\r\n}\r\n\r\nvoid main () {\r\n  float L = texture2D(uPressure, boundary(vL)).x;\r\n  float R = texture2D(uPressure, boundary(vR)).x;\r\n  float T = texture2D(uPressure, boundary(vT)).x;\r\n  float B = texture2D(uPressure, boundary(vB)).x;\r\n  vec2 velocity = texture2D(uVelocity, vUv).xy;\r\n  velocity.xy -= vec2(R - L, T - B);\r\n  gl_FragColor = vec4(velocity, 0.0, 1.0);\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vL;\r\nvarying vec2 vR;\r\nvarying vec2 vT;\r\nvarying vec2 vB;\r\nuniform sampler2D uPressure;\r\nuniform sampler2D uDivergence;\r\n\r\nvec2 boundary (in vec2 uv) {\r\n  uv = min(max(uv, 0.0), 1.0);\r\n  return uv;\r\n}\r\n\r\nvoid main () {\r\n  float L = texture2D(uPressure, boundary(vL)).x;\r\n  float R = texture2D(uPressure, boundary(vR)).x;\r\n  float T = texture2D(uPressure, boundary(vT)).x;\r\n  float B = texture2D(uPressure, boundary(vB)).x;\r\n  float C = texture2D(uPressure, vUv).x;\r\n  float divergence = texture2D(uDivergence, vUv).x;\r\n  float pressure = (L + R + B + T - divergence) * 0.25;\r\n  gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nuniform sampler2D uTarget;\r\nuniform float aspectRatio;\r\nuniform vec3 color;\r\nuniform vec2 point;\r\nuniform float radius;\r\nuniform float uAdditiveMode;\r\nuniform float uAdditiveThreshold; // Controls how much fluid is needed to turn white\r\n\r\nvoid main () {\r\n  vec2 p = vUv - point.xy;\r\n  p.x *= aspectRatio;\r\n  vec3 splat = exp(-dot(p, p) / radius) * color;\r\n  vec3 base = texture2D(uTarget, vUv).xyz;\r\n  \r\n  // In both modes, we use basic addition but with different handling\r\n  vec3 result = base + splat;\r\n  \r\n  // Regular mode\r\n  if (uAdditiveMode < 0.5) {\r\n    gl_FragColor = vec4(result, 1.0);\r\n  }\r\n  // Additive mode\r\n  else {\r\n    // Ensure we don't exceed reasonable values to prevent rendering artifacts\r\n    // This caps intensity while preserving color ratios for proper white blending\r\n    // Scale the cap based on the threshold to allow more build-up for higher thresholds\r\n    float maxCap = 50.0 * uAdditiveThreshold;\r\n    float maxChannel = max(result.r, max(result.g, result.b));\r\n    if (maxChannel > maxCap) {\r\n      // Scale down while preserving color ratios\r\n      result = result * (maxCap / maxChannel);\r\n    }\r\n    \r\n    gl_FragColor = vec4(result, 1.0);\r\n  }\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nattribute vec2 aPosition;\r\nvarying vec2 vUv;\r\nvarying vec2 vL;\r\nvarying vec2 vR;\r\nvarying vec2 vT;\r\nvarying vec2 vB;\r\nuniform vec2 texelSize;\r\n\r\nvoid main () {\r\n  vUv = aPosition * 0.5 + 0.5;\r\n  vL = vUv - vec2(texelSize.x, 0.0);\r\n  vR = vUv + vec2(texelSize.x, 0.0);\r\n  vT = vUv + vec2(0.0, texelSize.y);\r\n  vB = vUv - vec2(0.0, texelSize.y);\r\n  gl_Position = vec4(aPosition, 0.0, 1.0);\r\n}\r\n`\r\n","export default `\r\nprecision highp float;\r\nprecision mediump sampler2D;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vT;\r\nvarying vec2 vB;\r\nuniform sampler2D uVelocity;\r\nuniform sampler2D uCurl;\r\nuniform float curl;\r\nuniform float dt;\r\n\r\nvoid main () {\r\n  float T = texture2D(uCurl, vT).x;\r\n  float B = texture2D(uCurl, vB).x;\r\n  float C = texture2D(uCurl, vUv).x;\r\n  vec2 force = vec2(abs(T) - abs(B), 0.0);\r\n  force *= 1.0 / length(force + 0.00001) * curl * C;\r\n  vec2 vel = texture2D(uVelocity, vUv).xy;\r\n  gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\r\n}\r\n`\r\n","import advectionManualFiltering from './advection-manual-filtering'\r\nimport advection from './advection'\r\nimport clear from './clear'\r\nimport curl from './curl'\r\nimport display from './display'\r\nimport divergence from './divergence'\r\nimport gradientSubtract from './gradient-subtract'\r\nimport pressure from './pressure'\r\nimport splat from './splat'\r\nimport vert from './vert'\r\nimport vorticity from './vorticity'\r\n\r\nexport default {\r\n  advectionManualFiltering,\r\n  advection,\r\n  clear,\r\n  curl,\r\n  display,\r\n  divergence,\r\n  gradientSubtract,\r\n  pressure,\r\n  splat,\r\n  vert,\r\n  vorticity\r\n}\r\n","import GLProgram from './gl-program'\r\nimport getGLContext from './get-gl-context'\r\n\r\nimport shaders from './shaders'\r\n\r\nexport const defaultConfig = {\r\n  textureDownsample: 1,\r\n  densityDissipation: 0.95,\r\n  velocityDissipation: 0.98,\r\n  pressureDissipation: 0.8,\r\n  pressureIterations: 25,\r\n  curl: 30,\r\n  splatRadius: 0.005,\r\n  additiveMode: false,\r\n  additiveThreshold: 1.0, // Higher values require more fluid to turn white (range: 0.5-3.0 recommended)\r\n  colorCycleSpeed: 0.1, // Controls how quickly colors cycle (0.01-1.0, where higher is faster)\r\n  colors: [\r\n    [5, 0, 15],   // Purple (reduced)\r\n    [0, 13, 5],   // Green (reduced)\r\n    [10, 5, 0],   // Orange (reduced)\r\n    [0, 5, 15],   // Blue (reduced)\r\n    [15, 0, 5]    // Red (reduced)\r\n  ]\r\n}\r\n\r\nclass Pointer {\r\n  constructor() {\r\n    this.id = -1\r\n    this.x = 0\r\n    this.y = 0\r\n    this.dx = 0\r\n    this.dy = 0\r\n    this.down = false\r\n    this.moved = false\r\n    this.color = [30, 0, 300]\r\n    this.prevX = 0\r\n    this.prevY = 0\r\n  }\r\n}\r\n\r\nexport default class FluidAnimation {\r\n  constructor(opts) {\r\n    const {\r\n      canvas,\r\n      config = {\r\n        ...defaultConfig,\r\n        ...opts.config\r\n      },\r\n      disableRandomSplats = true,\r\n      movementThreshold = 0\r\n    } = opts\r\n\r\n    this._canvas = canvas\r\n    this._config = config\r\n    this._disableRandomSplats = disableRandomSplats\r\n    this._movementThreshold = movementThreshold\r\n\r\n    this._pointers = [ new Pointer() ]\r\n    this._splatStack = []\r\n\r\n    const { gl, ext } = getGLContext(canvas)\r\n    this._gl = gl\r\n    this._ext = ext\r\n\r\n    this._initPrograms()\r\n    this._initBlit()\r\n    this.resize()\r\n\r\n    this._time = Date.now()\r\n    this._timer = 0\r\n    this._colorCycle = 0\r\n  }\r\n\r\n  get config() {\r\n    return this._config\r\n  }\r\n\r\n  set config(config) {\r\n    const prevConfig = this._config;\r\n    this._config = {\r\n      ...this._config,\r\n      ...config\r\n    };\r\n    \r\n    // Check if shader-relevant properties have changed\r\n    const shaderPropsChanged = \r\n      prevConfig.additiveMode !== this._config.additiveMode || \r\n      prevConfig.additiveThreshold !== this._config.additiveThreshold;\r\n    \r\n    // If shader properties changed, update them immediately\r\n    if (shaderPropsChanged && this._gl && this._programs) {\r\n      // Update display shader\r\n      if (this._programs.display) {\r\n        this._programs.display.bind();\r\n        this._gl.uniform1f(this._programs.display.uniforms.uAdditiveMode, this._config.additiveMode ? 1.0 : 0.0);\r\n        this._gl.uniform1f(this._programs.display.uniforms.uAdditiveThreshold, this._config.additiveThreshold || 1.0);\r\n      }\r\n      \r\n      // Update splat shader\r\n      if (this._programs.splat) {\r\n        this._programs.splat.bind();\r\n        this._gl.uniform1f(this._programs.splat.uniforms.uAdditiveMode, this._config.additiveMode ? 1.0 : 0.0);\r\n        this._gl.uniform1f(this._programs.splat.uniforms.uAdditiveThreshold, this._config.additiveThreshold || 1.0);\r\n      }\r\n    }\r\n  }\r\n\r\n  get disableRandomSplats() {\r\n    return this._disableRandomSplats\r\n  }\r\n\r\n  set disableRandomSplats(value) {\r\n    this._disableRandomSplats = value\r\n  }\r\n\r\n  get movementThreshold() {\r\n    return this._movementThreshold\r\n  }\r\n\r\n  set movementThreshold(value) {\r\n    this._movementThreshold = value\r\n  }\r\n\r\n  get width() {\r\n    return this._canvas.width\r\n  }\r\n\r\n  get height() {\r\n    return this._canvas.height\r\n  }\r\n\r\n  addSplat(splat) {\r\n    this._splatStack.push([ splat ])\r\n  }\r\n\r\n  addSplats(splats) {\r\n    this._splatStack.push(Array.isArray(splats) ? splats : [ splats ])\r\n  }\r\n\r\n  addRandomSplats(count) {\r\n    const splats = []\r\n\r\n    for (let i = 0; i < count; ++i) {\r\n      splats.push(this._getRandomSplat())\r\n    }\r\n\r\n    this.addSplats(splats)\r\n  }\r\n\r\n  resize() {\r\n    const {\r\n      width,\r\n      height\r\n    } = this._canvas\r\n\r\n    if (this._width !== width || this._height !== height) {\r\n      this._width = width\r\n      this._height = height\r\n\r\n      this._initFramebuffers()\r\n    }\r\n  }\r\n\r\n  onMouseMove = (e) => {\r\n    const pointer = this._pointers[0];\r\n    pointer.prevX = pointer.x;\r\n    pointer.prevY = pointer.y;\r\n    \r\n    pointer.x = e.offsetX\r\n    pointer.y = e.offsetY\r\n    pointer.dx = (pointer.x - pointer.prevX) * 10.0\r\n    pointer.dy = (pointer.y - pointer.prevY) * 10.0\r\n    \r\n    // Calculate movement magnitude\r\n    const movementMagnitude = Math.sqrt(pointer.dx * pointer.dx + pointer.dy * pointer.dy);\r\n    \r\n    // Only set moved to true if movement is above threshold\r\n    pointer.moved = movementMagnitude > this._movementThreshold;\r\n    \r\n    // Dynamically update color on mouse move\r\n    this._updatePointerColor(pointer);\r\n  }\r\n\r\n  _updatePointerColor(pointer) {\r\n    // Use custom colors if provided, otherwise generate dynamically\r\n    if (this._config.colors && this._config.colors.length > 0) {\r\n      // Cycle through the colors array using colorCycleSpeed to control the rate\r\n      const now = Date.now() * 0.001;\r\n      const cycleSpeed = this._config.colorCycleSpeed || 0.1;\r\n      const colorIndex = Math.floor((now * cycleSpeed) % this._config.colors.length);\r\n      pointer.color = this._config.colors[colorIndex].slice(); // Make a copy of the color\r\n      \r\n      // Add slight variations to colors for more interesting effects\r\n      // Also scale variation by cycle speed for more consistent feel\r\n      const variation = Math.sin(now * 0.3 * cycleSpeed) * 2;\r\n      pointer.color = pointer.color.map(c => Math.max(0, c + variation));\r\n    } else {\r\n      // Original color generation logic based on HSB\r\n      const now = Date.now() * 0.001;\r\n      const cycleSpeed = this._config.colorCycleSpeed || 0.1;\r\n      const hue = (now * 0.15 * cycleSpeed) % 1;\r\n      const saturation = 0.6;\r\n      const brightness = 0.6;\r\n      \r\n      // Convert HSB to RGB\r\n      let r, g, b;\r\n      \r\n      const i = Math.floor(hue * 6);\r\n      const f = hue * 6 - i;\r\n      const p = brightness * (1 - saturation);\r\n      const q = brightness * (1 - f * saturation);\r\n      const t = brightness * (1 - (1 - f) * saturation);\r\n      \r\n      switch (i % 6) {\r\n        case 0: r = brightness; g = t; b = p; break;\r\n        case 1: r = q; g = brightness; b = p; break;\r\n        case 2: r = p; g = brightness; b = t; break;\r\n        case 3: r = p; g = q; b = brightness; break;\r\n        case 4: r = t; g = p; b = brightness; break;\r\n        case 5: r = brightness; g = p; b = q; break;\r\n      }\r\n      \r\n      pointer.color = [r * 10, g * 10, b * 10];\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e) => {\r\n    this._pointers[0].down = true\r\n    this._updatePointerColor(this._pointers[0]);\r\n  }\r\n\r\n  onMouseUp = (e) => {\r\n    this._pointers[0].down = false\r\n  }\r\n\r\n  onTouchStart = (e) => {\r\n    e.preventDefault(); // Prevent default to avoid scrolling\r\n    \r\n    for (let i = 0; i < e.touches.length; ++i) {\r\n      const touch = e.touches[i]\r\n      if (i >= this._pointers.length) {\r\n        this._pointers.push(new Pointer())\r\n      }\r\n      \r\n      const pointer = this._pointers[i]\r\n      pointer.id = touch.identifier\r\n      pointer.down = true\r\n      \r\n      // Convert touch coordinates to canvas coordinates\r\n      const rect = this._canvas.getBoundingClientRect()\r\n      pointer.x = touch.clientX - rect.left\r\n      pointer.y = touch.clientY - rect.top\r\n      pointer.prevX = pointer.x\r\n      pointer.prevY = pointer.y\r\n      \r\n      this._updatePointerColor(pointer)\r\n    }\r\n  }\r\n\r\n  onTouchMove = (e) => {\r\n    e.preventDefault(); // Prevent default to avoid scrolling\r\n    \r\n    for (let i = 0; i < e.touches.length; ++i) {\r\n      const touch = e.touches[i]\r\n      // Find the pointer with matching ID\r\n      let pointer = null\r\n      for (let j = 0; j < this._pointers.length; j++) {\r\n        if (this._pointers[j].id === touch.identifier) {\r\n          pointer = this._pointers[j]\r\n          break\r\n        }\r\n      }\r\n      \r\n      if (!pointer) {\r\n        continue // Skip if no matching pointer found\r\n      }\r\n      \r\n      pointer.prevX = pointer.x\r\n      pointer.prevY = pointer.y\r\n      \r\n      // Convert touch coordinates to canvas coordinates\r\n      const rect = this._canvas.getBoundingClientRect()\r\n      pointer.x = touch.clientX - rect.left\r\n      pointer.y = touch.clientY - rect.top\r\n      pointer.dx = (pointer.x - pointer.prevX) * 10.0\r\n      pointer.dy = (pointer.y - pointer.prevY) * 10.0\r\n      \r\n      // Calculate movement magnitude\r\n      const movementMagnitude = Math.sqrt(pointer.dx * pointer.dx + pointer.dy * pointer.dy);\r\n      \r\n      // Only set moved to true if movement is above threshold\r\n      pointer.moved = movementMagnitude > this._movementThreshold;\r\n      \r\n      this._updatePointerColor(pointer)\r\n    }\r\n  }\r\n\r\n  onTouchEnd = (e) => {\r\n    e.preventDefault(); // Prevent default to avoid scrolling\r\n\r\n    // Create an array of active touch identifiers\r\n    const activeTouchIds = Array.from(e.touches).map(touch => touch.identifier)\r\n    \r\n    // Update each pointer that is no longer active\r\n    for (let i = 0; i < this._pointers.length; i++) {\r\n      const pointer = this._pointers[i]\r\n      if (pointer.id !== -1 && !activeTouchIds.includes(pointer.id)) {\r\n        pointer.down = false\r\n        pointer.moved = false // Reset moved flag when touch ends\r\n      }\r\n    }\r\n  }\r\n\r\n  _initPrograms() {\r\n    const gl = this._gl\r\n    const ext = this._ext\r\n\r\n    this._programs = { }\r\n    this._programs.clear = new GLProgram(gl, shaders.vert, shaders.clear)\r\n    this._programs.display = new GLProgram(gl, shaders.vert, shaders.display)\r\n    this._programs.splat = new GLProgram(gl, shaders.vert, shaders.splat)\r\n    this._programs.advection = new GLProgram(gl, shaders.vert, ext.supportLinearFiltering\r\n      ? shaders.advection\r\n      : shaders.advectionManualFiltering\r\n    )\r\n    this._programs.divergence = new GLProgram(gl, shaders.vert, shaders.divergence)\r\n    this._programs.curl = new GLProgram(gl, shaders.vert, shaders.curl)\r\n    this._programs.vorticity = new GLProgram(gl, shaders.vert, shaders.vorticity)\r\n    this._programs.pressure = new GLProgram(gl, shaders.vert, shaders.pressure)\r\n    this._programs.gradientSubtract = new GLProgram(gl, shaders.vert, shaders.gradientSubtract)\r\n  }\r\n\r\n  _initFramebuffers() {\r\n    const gl = this._gl\r\n    const ext = this._ext\r\n\r\n    function createFBO(texId, w, h, internalFormat, format, type, param) {\r\n      gl.activeTexture(gl.TEXTURE0 + texId)\r\n      const texture = gl.createTexture()\r\n      gl.bindTexture(gl.TEXTURE_2D, texture)\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param)\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param)\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\r\n      gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null)\r\n\r\n      const fbo = gl.createFramebuffer()\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\r\n      gl.framebufferTexture2D(\r\n        gl.FRAMEBUFFER,\r\n        gl.COLOR_ATTACHMENT0,\r\n        gl.TEXTURE_2D,\r\n        texture,\r\n        0\r\n      )\r\n      gl.viewport(0, 0, w, h)\r\n      gl.clear(gl.COLOR_BUFFER_BIT)\r\n\r\n      return [texture, fbo, texId]\r\n    }\r\n\r\n    function createDoubleFBO(texId, w, h, internalFormat, format, type, param) {\r\n      let fbo1 = createFBO(texId, w, h, internalFormat, format, type, param)\r\n      let fbo2 = createFBO(texId + 1, w, h, internalFormat, format, type, param)\r\n\r\n      return {\r\n        get read() {\r\n          return fbo1\r\n        },\r\n        get write() {\r\n          return fbo2\r\n        },\r\n        swap() {\r\n          const temp = fbo1\r\n          fbo1 = fbo2\r\n          fbo2 = temp\r\n        }\r\n      }\r\n    }\r\n\r\n    this._textureWidth = gl.drawingBufferWidth >> this._config.textureDownsample\r\n    this._textureHeight = gl.drawingBufferHeight >> this._config.textureDownsample\r\n\r\n    const texType = ext.halfFloatTexType\r\n    const rgba = ext.formatRGBA\r\n    const rg = ext.formatRG\r\n    const r = ext.formatR\r\n\r\n    this._density = createDoubleFBO(\r\n      2,\r\n      this._textureWidth,\r\n      this._textureHeight,\r\n      rgba.internalFormat,\r\n      rgba.format,\r\n      texType,\r\n      ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST\r\n    )\r\n\r\n    this._velocity = createDoubleFBO(\r\n      0,\r\n      this._textureWidth,\r\n      this._textureHeight,\r\n      rg.internalFormat,\r\n      rg.format,\r\n      texType,\r\n      ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST\r\n    )\r\n\r\n    this._divergence = createFBO(\r\n      4,\r\n      this._textureWidth,\r\n      this._textureHeight,\r\n      r.internalFormat,\r\n      r.format,\r\n      texType,\r\n      gl.NEAREST\r\n    )\r\n\r\n    this._curl = createFBO(\r\n      5,\r\n      this._textureWidth,\r\n      this._textureHeight,\r\n      r.internalFormat,\r\n      r.format,\r\n      texType,\r\n      gl.NEAREST\r\n    )\r\n\r\n    this._pressure = createDoubleFBO(\r\n      6,\r\n      this._textureWidth,\r\n      this._textureHeight,\r\n      r.internalFormat,\r\n      r.format,\r\n      texType,\r\n      gl.NEAREST\r\n    )\r\n  }\r\n\r\n  _initBlit() {\r\n    const gl = this._gl\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer())\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW)\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer())\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW)\r\n    gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0)\r\n    gl.enableVertexAttribArray(0)\r\n  }\r\n\r\n  _blit = (destination) => {\r\n    const gl = this._gl\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, destination)\r\n    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0)\r\n  }\r\n\r\n  _splat(x, y, dx, dy, color) {\r\n    const gl = this._gl\r\n\r\n    this._programs.splat.bind()\r\n    gl.uniform1i(this._programs.splat.uniforms.uTarget, this._velocity.read[2])\r\n    gl.uniform1f(this._programs.splat.uniforms.aspectRatio, this._canvas.width / this._canvas.height)\r\n    gl.uniform2f(this._programs.splat.uniforms.point, x / this._canvas.width, 1.0 - y / this._canvas.height)\r\n    gl.uniform3f(this._programs.splat.uniforms.color, dx, -dy, 1.0)\r\n    gl.uniform1f(this._programs.splat.uniforms.radius, this._config.splatRadius)\r\n    gl.uniform1f(this._programs.splat.uniforms.uAdditiveMode, this._config.additiveMode ? 1.0 : 0.0)\r\n    gl.uniform1f(this._programs.splat.uniforms.uAdditiveThreshold, this._config.additiveThreshold || 1.0)\r\n    this._blit(this._velocity.write[1])\r\n    this._velocity.swap()\r\n\r\n    this._programs.splat.bind()\r\n    gl.uniform1i(this._programs.splat.uniforms.uTarget, this._density.read[2])\r\n    // Adjust color intensity - more subtle for additive mode to prevent oversaturation\r\n    const colorIntensity = this._config.additiveMode ? 0.12 : 0.15;\r\n    gl.uniform3f(this._programs.splat.uniforms.color, color[0] * colorIntensity, color[1] * colorIntensity, color[2] * colorIntensity)\r\n    gl.uniform1f(this._programs.splat.uniforms.uAdditiveMode, this._config.additiveMode ? 1.0 : 0.0)\r\n    gl.uniform1f(this._programs.splat.uniforms.uAdditiveThreshold, this._config.additiveThreshold || 1.0)\r\n    this._blit(this._density.write[1])\r\n    this._density.swap()\r\n  }\r\n\r\n  _addSplat(splat) {\r\n    const { x, y, dx, dy, color } = splat\r\n\r\n    if (x === undefined) return\r\n    if (y === undefined) return\r\n    if (dx === undefined) return\r\n    if (dy === undefined) return\r\n    if (color === undefined) return\r\n\r\n    this._splat(x, y, dx, dy, color)\r\n  }\r\n\r\n  _addSplats(splats) {\r\n    for (const splat of splats) {\r\n      this._addSplat(splat)\r\n    }\r\n  }\r\n\r\n  _getRandomSplat() {\r\n    // Create a temporary pointer to generate color\r\n    const tempPointer = new Pointer();\r\n    this._updatePointerColor(tempPointer);\r\n    \r\n    const color = tempPointer.color;\r\n    const x = this._canvas.width * Math.random()\r\n    const y = this._canvas.height * Math.random()\r\n    const dx = 1000 * (Math.random() - 0.5)\r\n    const dy = 1000 * (Math.random() - 0.5)\r\n\r\n    return { x, y, dx, dy, color }\r\n  }\r\n\r\n  update() {\r\n    const gl = this._gl\r\n\r\n    const dt = Math.min((Date.now() - this._time) / 1000, 0.016)\r\n    this._time = Date.now()\r\n    this._timer += 0.0001\r\n    \r\n    // Use colorCycleSpeed to control the rate of color cycling\r\n    const cycleSpeed = this._config.colorCycleSpeed || 0.1\r\n    this._colorCycle = (this._colorCycle + dt * cycleSpeed * 5.0) % 1.0\r\n    \r\n    // Random splats are now only added via explicit addRandomSplats() calls\r\n    // Removed: if (!this._disableRandomSplats && Math.random() < 0.01) {\r\n    //   this.addRandomSplats(1);\r\n    // }\r\n\r\n    const w = this._textureWidth\r\n    const h = this._textureHeight\r\n    const iW = 1.0 / w\r\n    const iH = 1.0 / h\r\n\r\n    gl.viewport(0, 0, w, h)\r\n\r\n    if (this._splatStack.length > 0) {\r\n      this._addSplats(this._splatStack.pop())\r\n    }\r\n\r\n    this._programs.advection.bind()\r\n    gl.uniform2f(this._programs.advection.uniforms.texelSize, iW, iH)\r\n    gl.uniform1i(this._programs.advection.uniforms.uVelocity, this._velocity.read[2])\r\n    gl.uniform1i(this._programs.advection.uniforms.uSource, this._velocity.read[2])\r\n    gl.uniform1f(this._programs.advection.uniforms.dt, dt)\r\n    gl.uniform1f(\r\n      this._programs.advection.uniforms.dissipation,\r\n      this._config.velocityDissipation\r\n    )\r\n    this._blit(this._velocity.write[1])\r\n    this._velocity.swap()\r\n\r\n    gl.uniform1i(this._programs.advection.uniforms.uVelocity, this._velocity.read[2])\r\n    gl.uniform1i(this._programs.advection.uniforms.uSource, this._density.read[2])\r\n    gl.uniform1f(\r\n      this._programs.advection.uniforms.dissipation,\r\n      this._config.densityDissipation\r\n    )\r\n    this._blit(this._density.write[1])\r\n    this._density.swap()\r\n\r\n    for (let i = 0; i < this._pointers.length; i++) {\r\n      const pointer = this._pointers[i]\r\n      if (pointer.moved) {\r\n        // Update color continuously based on time, even without user interaction\r\n        this._updatePointerColor(pointer);\r\n        this._splat(pointer.x, pointer.y, pointer.dx, pointer.dy, pointer.color)\r\n        \r\n        // Reset moved flag for all pointers if they are not down\r\n        // This ensures we don't keep generating splats after touch/mouse released\r\n        if (!pointer.down) {\r\n          pointer.moved = false\r\n        }\r\n      }\r\n    }\r\n\r\n    this._programs.curl.bind()\r\n    gl.uniform2f(this._programs.curl.uniforms.texelSize, iW, iH)\r\n    gl.uniform1i(this._programs.curl.uniforms.uVelocity, this._velocity.read[2])\r\n    this._blit(this._curl[1])\r\n\r\n    this._programs.vorticity.bind()\r\n    gl.uniform2f(this._programs.vorticity.uniforms.texelSize, iW, iH)\r\n    gl.uniform1i(this._programs.vorticity.uniforms.uVelocity, this._velocity.read[2])\r\n    gl.uniform1i(this._programs.vorticity.uniforms.uCurl, this._curl[2])\r\n    gl.uniform1f(this._programs.vorticity.uniforms.curl, this._config.curl)\r\n    gl.uniform1f(this._programs.vorticity.uniforms.dt, dt)\r\n    this._blit(this._velocity.write[1])\r\n    this._velocity.swap()\r\n\r\n    this._programs.divergence.bind()\r\n    gl.uniform2f(this._programs.divergence.uniforms.texelSize, iW, iH)\r\n    gl.uniform1i(this._programs.divergence.uniforms.uVelocity, this._velocity.read[2])\r\n    this._blit(this._divergence[1])\r\n\r\n    this._programs.clear.bind()\r\n    let pressureTexId = this._pressure.read[2]\r\n    gl.activeTexture(gl.TEXTURE0 + pressureTexId)\r\n    gl.bindTexture(gl.TEXTURE_2D, this._pressure.read[0])\r\n    gl.uniform1i(this._programs.clear.uniforms.uTexture, pressureTexId)\r\n    gl.uniform1f(this._programs.clear.uniforms.value, this._config.pressureDissipation)\r\n    this._blit(this._pressure.write[1])\r\n    this._pressure.swap()\r\n\r\n    this._programs.pressure.bind()\r\n    gl.uniform2f(this._programs.pressure.uniforms.texelSize, iW, iH)\r\n    gl.uniform1i(this._programs.pressure.uniforms.uDivergence, this._divergence[2])\r\n    pressureTexId = this._pressure.read[2]\r\n    gl.uniform1i(this._programs.pressure.uniforms.uPressure, pressureTexId)\r\n    gl.activeTexture(gl.TEXTURE0 + pressureTexId)\r\n    for (let i = 0; i < this._config.pressureIterations; i++) {\r\n      gl.bindTexture(gl.TEXTURE_2D, this._pressure.read[0])\r\n      this._blit(this._pressure.write[1])\r\n      this._pressure.swap()\r\n    }\r\n\r\n    this._programs.gradientSubtract.bind()\r\n    gl.uniform2f(this._programs.gradientSubtract.uniforms.texelSize, iW, iH)\r\n    gl.uniform1i(this._programs.gradientSubtract.uniforms.uPressure, this._pressure.read[2])\r\n    gl.uniform1i(this._programs.gradientSubtract.uniforms.uVelocity, this._velocity.read[2])\r\n    this._blit(this._velocity.write[1])\r\n    this._velocity.swap()\r\n\r\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight)\r\n    this._programs.display.bind()\r\n    gl.uniform1i(this._programs.display.uniforms.uTexture, this._density.read[2])\r\n    gl.uniform4f(this._programs.display.uniforms.uBackgroundColor, 0.0, 0.0, 0.0, 0.0)\r\n    gl.uniform1f(this._programs.display.uniforms.uAdditiveMode, this._config.additiveMode ? 1.0 : 0.0)\r\n    gl.uniform1f(this._programs.display.uniforms.uAdditiveThreshold, this._config.additiveThreshold || 1.0)\r\n    this._blit(null)\r\n  }\r\n}\r\n","import React, { useEffect, useRef, useState, forwardRef, RefObject, useCallback } from 'react'\r\nimport raf from 'raf'\r\nimport { ResizeObserver } from '@juggle/resize-observer'\r\n\r\nimport FluidAnimation, { defaultConfig, FluidConfig } from './fluid-animation'\r\n\r\n// Add an export for FluidAnimation config\r\nexport { defaultConfig }\r\n\r\ninterface Dimensions {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\n// Custom hook for resize observation\r\nexport const useResizeObserver = (ref: RefObject<HTMLElement>): Dimensions => {\r\n  const [dimensions, setDimensions] = useState<Dimensions>({ width: 0, height: 0 })\r\n\r\n  useEffect(() => {\r\n    if (!ref || !ref.current) return\r\n\r\n    const resizeObserver = new ResizeObserver(entries => {\r\n      const { width, height } = entries[0].contentRect\r\n      setDimensions({ width, height })\r\n    })\r\n\r\n    resizeObserver.observe(ref.current)\r\n\r\n    return () => {\r\n      resizeObserver.disconnect()\r\n    }\r\n  }, [ref])\r\n\r\n  return dimensions\r\n}\r\n\r\n// Export interface to match the type definition in types/react-fluid-animation.ts\r\nexport interface ReactFluidAnimationProps {\r\n  /** Optional HTML content to overlay */\r\n  content?: string;\r\n  /** Configuration options for the fluid animation */\r\n  config?: Partial<FluidConfig>;\r\n  /** Custom styles for the container */\r\n  style?: React.CSSProperties;\r\n  /** Callback to access the FluidAnimation instance */\r\n  animationRef?: (animation: FluidAnimation) => void;\r\n  /** Disable random splats (defaults to true) */\r\n  disableRandomSplats?: boolean;\r\n  /** Threshold for movement detection */\r\n  movementThreshold?: number;\r\n  /** Additional props passed to the div */\r\n  [key: string]: any;\r\n}\r\n\r\n// Main component as a function component (not using forwardRef)\r\nconst ReactFluidAnimation: React.FC<ReactFluidAnimationProps> = (props) => {\r\n  const {\r\n    content,\r\n    config = defaultConfig,\r\n    style = {},\r\n    animationRef,\r\n    disableRandomSplats = true,\r\n    movementThreshold = 0,\r\n    ...rest\r\n  } = props;\r\n\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const animationInstance = useRef<FluidAnimation | null>(null);\r\n  const rafRef = useRef<number | null>(null);\r\n  \r\n  // Use resize observer directly in the component\r\n  const dimensions = useResizeObserver(containerRef as RefObject<HTMLElement>);\r\n\r\n  const onResize = useCallback(() => {\r\n    if (!containerRef.current || !canvasRef.current) return;\r\n    \r\n    canvasRef.current.width = containerRef.current.clientWidth;\r\n    canvasRef.current.height = containerRef.current.clientHeight;\r\n\r\n    if (animationInstance.current) {\r\n      animationInstance.current.resize();\r\n    }\r\n  }, []);\r\n\r\n  const resetAnimation = useCallback(() => {\r\n    onResize();\r\n\r\n    if (!canvasRef.current) return;\r\n\r\n    animationInstance.current = new FluidAnimation({\r\n      canvas: canvasRef.current,\r\n      content,\r\n      config,\r\n      disableRandomSplats,\r\n      movementThreshold\r\n    });\r\n\r\n    if (animationRef) {\r\n      animationRef(animationInstance.current);\r\n    }\r\n  }, [content, config, disableRandomSplats, movementThreshold, animationRef, onResize]);\r\n\r\n  const tick = useCallback(() => {\r\n    if (animationInstance.current) {\r\n      animationInstance.current.update();\r\n    }\r\n\r\n    rafRef.current = raf(tick);\r\n  }, []);\r\n\r\n  // Initialize animation\r\n  useEffect(() => {\r\n    resetAnimation();\r\n    tick();\r\n\r\n    return () => {\r\n      if (rafRef.current) {\r\n        raf.cancel(rafRef.current);\r\n        rafRef.current = null;\r\n      }\r\n    };\r\n  }, [resetAnimation, tick]);\r\n\r\n  // Handle prop changes\r\n  useEffect(() => {\r\n    onResize();\r\n\r\n    if (config && animationInstance.current) {\r\n      animationInstance.current.config = {\r\n        ...defaultConfig,\r\n        ...config\r\n      };\r\n      \r\n      // Force immediate update on config changes\r\n      // Update dynamic shader parameters immediately to see changes in real-time\r\n      const gl = (animationInstance.current as any)._gl;\r\n      const programs = (animationInstance.current as any)._programs;\r\n      \r\n      // Update display shader settings\r\n      if (programs?.display) {\r\n        programs.display.bind();\r\n        gl.uniform1f(programs.display.uniforms.uAdditiveMode, (config as any).additiveMode ? 1.0 : 0.0);\r\n        gl.uniform1f(programs.display.uniforms.uAdditiveThreshold, (config as any).additiveThreshold || 1.0);\r\n      }\r\n      \r\n      // Update splat shader settings\r\n      if (programs?.splat) {\r\n        programs.splat.bind();\r\n        gl.uniform1f(programs.splat.uniforms.uAdditiveMode, (config as any).additiveMode ? 1.0 : 0.0);\r\n        gl.uniform1f(programs.splat.uniforms.uAdditiveThreshold, (config as any).additiveThreshold || 1.0);\r\n      }\r\n    }\r\n    \r\n    if (animationInstance.current) {\r\n      animationInstance.current.disableRandomSplats = !!disableRandomSplats;\r\n      if (typeof movementThreshold === 'number') {\r\n        animationInstance.current.movementThreshold = movementThreshold;\r\n      }\r\n    }\r\n  }, [config, disableRandomSplats, movementThreshold, onResize]);\r\n\r\n  // Handle resize from observer\r\n  useEffect(() => {\r\n    if (dimensions.width !== 0 && dimensions.height !== 0) {\r\n      onResize();\r\n    }\r\n  }, [dimensions, onResize]);\r\n\r\n  const onMouseDown = (event: React.MouseEvent) => {\r\n    event.preventDefault();\r\n    animationInstance.current?.onMouseDown(event.nativeEvent);\r\n  };\r\n\r\n  const onMouseMove = (event: React.MouseEvent) => {\r\n    event.preventDefault();\r\n    animationInstance.current?.onMouseMove(event.nativeEvent);\r\n  };\r\n\r\n  const onMouseUp = (event: React.MouseEvent) => {\r\n    event.preventDefault();\r\n    animationInstance.current?.onMouseUp(event.nativeEvent);\r\n  };\r\n\r\n  const onTouchStart = (event: React.TouchEvent) => {\r\n    animationInstance.current?.onTouchStart(event.nativeEvent);\r\n  };\r\n\r\n  const onTouchMove = (event: React.TouchEvent) => {\r\n    animationInstance.current?.onTouchMove(event.nativeEvent);\r\n  };\r\n\r\n  const onTouchEnd = (event: React.TouchEvent) => {\r\n    animationInstance.current?.onTouchEnd(event.nativeEvent);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'hidden',\r\n        ...style\r\n      }}\r\n      {...rest}\r\n      ref={containerRef}\r\n    >\r\n      <canvas\r\n        ref={canvasRef}\r\n        onMouseDown={onMouseDown}\r\n        onMouseMove={onMouseMove}\r\n        onMouseUp={onMouseUp}\r\n        onTouchStart={onTouchStart}\r\n        onTouchMove={onTouchMove}\r\n        onTouchEnd={onTouchEnd}\r\n        style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          background: 'transparent'\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Add display name for debugging\r\nReactFluidAnimation.displayName = 'ReactFluidAnimation';\r\n\r\nexport default ReactFluidAnimation;"],"names":["REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","jsxProd","type","config","maybeKey","key","propName","reactJsxRuntime_production","getComponentNameFromType","REACT_CLIENT_REFERENCE$2","REACT_PORTAL_TYPE","REACT_PROFILER_TYPE","REACT_STRICT_MODE_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_CONTEXT_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","innerType","REACT_MEMO_TYPE","REACT_LAZY_TYPE","testStringCoercion","value","checkKeyStringCoercion","JSCompiler_inline_result","JSCompiler_temp_const","JSCompiler_inline_result$jscomp$0","disabledLog","disableLogs","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","props","reenableLogs","assign","describeBuiltInComponentFrame","name","prefix","x","match","suffix","describeNativeComponentFrame","fn","construct","reentry","frame","componentFrameCache","previousDispatcher","ReactSharedInternals","RunInRootFrame","Fake","control","x$0","x$1","sample","namePropDescriptor","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","controlLines","_frame","describeUnknownElementTypeFrameInDEV","prototype","getOwner","dispatcher","hasValidKey","hasOwnProperty","getter","defineKeyPropWarningGetter","displayName","warnAboutAccessingKey","specialPropKeyWarningShown","elementRefGetterWithDeprecationWarning","componentName","didWarnAboutElementRef","ReactElement","self","source","owner","jsxDEVImpl","isStaticChildren","REACT_OFFSCREEN_TYPE","REACT_CLIENT_REFERENCE$1","children","isArrayImpl","validateChildKeys","keys","k","didWarnAboutKeySpread","node","parentType","REACT_CLIENT_REFERENCE","i","child","isValidElement","validateExplicitKey","MAYBE_ITERATOR_SYMBOL","object","element","getCurrentComponentErrorInfo","ownerHasKeyUseWarning","childOwner","prevGetCurrentStack","stack","info","React","require$$0","reactJsxRuntime_development","jsxRuntimeModule","require$$1","compileShader","gl","shader","GLProgram","vertexSource","fragmentSource","vertexShader","fragmentShader","uniformCount","uniformName","getWebGLContext","canvas","params","isWebGL2","halfFloat","supportLinearFiltering","halfFloatTexType","formatRGBA","formatRG","formatR","getSupportedFormat","internalFormat","format","supportRenderTextureFormat","texture","fbo","advectionManualFiltering","advection","clear","curl","display","divergence","gradientSubtract","pressure","splat","vert","vorticity","shaders","defaultConfig","Pointer","FluidAnimation","opts","__publicField","pointer","movementMagnitude","touch","rect","j","activeTouchIds","destination","disableRandomSplats","movementThreshold","ext","getGLContext","prevConfig","splats","count","width","height","now","cycleSpeed","colorIndex","variation","c","hue","saturation","brightness","r","g","b","f","p","q","t","createFBO","texId","w","h","param","createDoubleFBO","fbo1","fbo2","temp","texType","rgba","rg","y","dx","dy","color","colorIntensity","tempPointer","dt","iW","iH","pressureTexId","useResizeObserver","ref","dimensions","setDimensions","useState","useEffect","resizeObserver","ResizeObserver","entries","ReactFluidAnimation","content","style","animationRef","rest","containerRef","useRef","canvasRef","animationInstance","rafRef","onResize","useCallback","resetAnimation","tick","raf","programs","onMouseDown","event","_a","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","jsx"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GCAfC,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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","x_google_ignoreList":[0,1,2]}